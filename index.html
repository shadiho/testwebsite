<html>
<head>
    <!-- The script tag should live in the head of your page if at all possible -->
    <script type="text/javascript" async src="https://play.vidyard.com/embed/v4.js"></script>
    
    <style>
     .popup-container {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
  }
  
  .popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #ffffff;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }
  
  .popup .message {
    margin-bottom: 10px;
  }
  
  .popup .button-container {
    text-align: center;
  }
  
  .popup button {
    margin: 5px;
    padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  
  .popup button:hover {
    background-color: #0056b3;
  }
  

  /* Style the select dropdown */
  select {
    padding: 8px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: #f8f8f8;
    color: #333;
    width: 200px;
    outline: none; /* Remove default blue outline on focus */
    cursor: pointer;
}

/* Style the options */
option {
    padding: 8px;
}

/* On hover, change background color of options */
option:hover {
    background-color: #f0f0f0;
}

 /* Basic button style */
 .nice-button {
  display: inline-block;
  padding: 12px 20px;
  font-size: 16px;
  border: none;
  border-radius: 4px;
  background-color: #007bff; /* Blue color, you can change this */
  color: #fff; /* White text color */
  cursor: pointer;
  text-align: center;
  text-decoration: none;
}

/* Button hover effect */
.nice-button:hover {
  background-color: #0056b3; /* Darker blue on hover */
}

/* Button active effect */
.nice-button:active {
  background-color: #004080; /* Even darker blue when clicked */
}

.progress-bar {
  /width: 300px;/
  height: 10px;
  background-color: #f0f0f0;
  border-radius: 1px;
  overflow: hidden;
  margin: 0px auto;
}

.progress-bar-fill {
  height: 100%;
  background-color: #007bff;
  border-radius: 10px;
  transition: width 0.3s ease-in-out;
}

#progressSlider {
  width: 1px;
  margin: 20px auto;
}

#progressValue {
  font-size: 20px;
}
    </style>

    <script>
      function showPopup() {
          document.getElementById("popupContainer").style.display = "block";
      }
      
      function hidePopup() {
        
      }
      
      function onOptionSelected(option) {
         hidePopup();
    if (option === true) {
        questions[currentQuestion][1] = true;
        localStorage.setItem(UUID + "_questions",JSON.stringify(questions));
        if (currentQuestion < questions.length-1){
            currentQuestion+=1;
            console.log("Current Question ** " + currentQuestion);
            localStorage.setItem(UUID+"_currentQuestion",currentQuestion);
        }
            
        players[0].play();
    } else {
        if (currentQuestion===0){
            players[0].seek(0);
        }else{
            players[0].seek(questions[currentQuestion-1][0]);
        }
        
    }
    intervalId = setInterval(myTimer, 300);
    console.log("set interval!!!!!");
      }

      // Function to populate questions and answers
      function populateQuestions() {
        var questions = [
          {
            question: "What is the capital of France?",
            answers: ["London", "Berlin", "Paris", "Madrid"],
            correctAnswer: 2, // Index of the correct answer (0-based)
          },
          // Add more questions here
        ];

        // Get a random question (you can change this logic)
        var randomQuestion = questions[Math.floor(Math.random() * questions.length)];

        // Display the question and answer choices
        document.getElementById("questionText").textContent = randomQuestion.question;

        for (var i = 0; i < randomQuestion.answers.length; i++) {
          var answerButton = document.createElement("button");
          answerButton.textContent = randomQuestion.answers[i];
          answerButton.addEventListener("click", function () {
            onOptionSelected(this.textContent === randomQuestion.answers[randomQuestion.correctAnswer]);
          });
          document.getElementById("answerContainer").appendChild(answerButton);
        }
      }
    </script>
</head>

<body>
  <h1>Choose your favorite Language:</h1>
  <select id="langDropdown" onchange="onColorChange()">
    <option value="0">Germany</option>
    <option value="1">English</option>
  </select>

  <button class="nice-button" onclick="resetLesson()">Reset Lesson</button>
  <br />
  <br />
  <div class="progress-bar">
    <div class="progress-bar-fill" id="progressFill"></div>
  </div>
  <div id="progressValue">0%</div>

  <div id="questionContainer">
    <p id="questionText"></p>
    <div id="answerContainer"></div>
  </div>

  <!-- Put this wherever you would like your player to appear -->
  <img
    id="vImage"
    style="width: 100%; margin: auto; display: block;"
    class="vidyard-player-embed"
    data-v="4"
    data-type="inline"
  />

  <script async type="text/javascript">
    var players;
    var currentQuestion;
    var parameter = getURLParameters();
    const UUID = parameter['v'];

    if (localStorage.getItem(UUID + "_questions")) {
      // If questions are already stored in local storage, you can retrieve them here.
      // Otherwise, initialize your questions.
    }

    populateQuestions(); // Display the initial question

    // ... (your existing JavaScript code) ...
  </script>

  <div id="popupContainer" class="popup-container">
    <div class="popup">
      <div class="message" id="questionMessage"></div>
      <div class="button-container">
        <!-- Options will be dynamically added in the JavaScript code -->
      </div>
    </div>
  </div>
</body>
</html>
